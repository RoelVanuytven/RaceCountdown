<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Race Event Countdown</title>
    <link rel="stylesheet" href="RaceStyle.css">
</head>
<body>

<div class="countdown">
    <div id="countdown-text" class="countdown-text">00h 00m 00s</div>
    <div id="next-session" class="next-session">Next session: None</div>
</div>

<!-- Tweede countdown -->
<div class="countdown" id="second-countdown">
    <div id="second-countdown-text" class="countdown-text">00h 00m 00s</div>
    <div id="second-next-session" class="next-session">Next session: None</div>
</div>

<div class="table-container">
    <table>
        <thead>
        <tr>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Session</th>
            <th>Length</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody id="sessions-table">
        <!-- Rows will be inserted here by JavaScript -->
        </tbody>
    </table>
</div>

<div class="footer">
    <div class="footer-buttons">
        <button id="delete-sessions-button" class="action-button">Delete all Sessions</button>
        <button id="open-modal-button" class="action-button">Add Session</button>
        <button id="open-file-button" class="action-button">Add Event with .csv or .txt</button>
        <button id="export-csv-button" class="action-button">Export to CSV</button>
        <button id="helpBtn" class="action-button">Help</button>
        <input type="file" id="file-input" accept=".txt, .csv">
    </div>
    <div class="footer-powered">
        Powered by <a href="https://www.drankbaron.be" target="_blank" rel="noopener noreferrer">drankbaron.be</a>
    </div>
</div>

<!-- Modal for adding a new session -->
<div id="modal-overlay" class="modal-overlay"></div>
<div id="modal" class="modal">
    <button id="modal-close" class="modal-close">×</button>
    <div class="modal-header">Add Session</div>
    <div class="modal-body">
        <form id="modal-form" class="modal-form">
            <input type="date" id="date" required>
            <input type="time" id="starttime" required>
            <input type="time" id="endtime" required>
            <input type="text" id="session" placeholder="Session description" required>
            <button type="submit">Add Session</button>
        </form>
    </div>
</div>

<!-- Bevestigingsmodal voor het verwijderen van alle sessies -->
<div id="confirm-overlay" class="modal-overlay"></div>
<div id="confirm-modal" class="modal">
    <button id="confirm-modal-close" class="modal-close">×</button>
    <div class="modal-header"></div>
    <div class="modal-body">
        <button id="confirm-clear-sessions" class="action-button">Clear all Sessions</button>
        <button id="confirm-cancel" class="action-button">Cancel</button>
    </div>
</div>

<!-- Bevestigingsmodal voor sessieverwijdering -->
<div id="confirm-delete-overlay" class="modal-overlay"></div>
<div id="confirm-delete-modal" class="modal">
    <div class="modal-header">
        <button id="confirm-modal-close-session" class="modal-close">×</button>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this session?</p>
        <button id="confirm-delete-yes" class="action-button">Yes</button>
        <button id="confirm-delete-no" class="action-button">No</button>
    </div>
</div>

<!-- Modal for editing a session -->
<div id="edit-modal-overlay" class="modal-overlay"></div>
<div id="edit-modal" class="modal">
    <button id="edit-modal-close" class="modal-close">×</button>
    <div class="modal-header">Edit Session</div>
    <div class="modal-body">
        <form id="edit-modal-form" class="modal-form">
            <input type="date" id="edit-date" required>
            <input type="time" id="edit-starttime" required>
            <input type="time" id="edit-endtime" required>
            <input type="text" id="edit-session" placeholder="Session description" required>
            <button type="button" id="save-edit-button">Save Changes</button>
        </form>
    </div>
</div>

<!-- Help Modal -->
<div id="help-modal-overlay" class="modal-overlay"></div>
<div id="help-modal" class="modal">
    <button id="help-modal-close" class="modal-close">×</button>
    <div class="modal-header">Help - Functionality Overview</div>
    <div class="modal-body">
        <ul>
            <li><strong>Edit</strong>: You can edit an existing session by changing the date, start time, end time, and/or session description.</li>
            <li><strong>Delete</strong>: You can delete a session; deleted sessions can only be restored by adding them manually unless you have a backup CSV file.</li>
            <li><strong>Delete all Sessions</strong>: Deletes all saved sessions from the system. Be careful, this action cannot be undone unless you have a backup CSV file.</li>
            <li><strong>Add Session</strong>: Allows you to add a new session to the event by entering the date, start time, end time, and session description.</li>
            <li><strong>Add Event with .csv or .txt</strong>: Imports session data from a .csv or .txt file. Make sure your file is properly formatted.
                <h5>Example: <br>
                    2024-10-10,09:05,11:20,Paying Practice 1<br>
                    2024-10-10,13:45,15:00,Paying Practice 2<br>
                    2024-10-10,15:40,16:55,Paying Practice 3<br>
                    2024-10-12,08:00,08:30,briefing<br>
                    2024-10-12,09:05,09:50,Non-Qualifying practice<br>
                    2024-10-12,15:00,15:45,Qualifying<br>
                    2024-10-13,15:25,17:30,Race<br></h5>
            </li>
            <li><strong>Export to CSV</strong>: Exports all current session data to a downloadable .csv file as a backup or to send to somebody else.</li>
        </ul>
    </div>
</div>

<script src="RaceJava.js"></script>

</body>
</html>
